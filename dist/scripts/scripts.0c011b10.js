"use strict";angular.module("backendTheatreApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap","ui.router","ngIdle","LocalStorageModule"]).config(["$routeProvider","localStorageServiceProvider","IdleProvider","KeepaliveProvider",function(a,b,c,d){b.setPrefix("backendTheatreApp").setStorageType("sessionStorage"),c.idle(900),c.timeout(5),d.interval(600),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main",resolve:{nowShowingInTheatres:["nowShowing",function(a){return a.nowShowingMovies()}],upcomingMovies:["upcomingMovies",function(a){return a.upcoming()}]}}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/admin",{templateUrl:"views/admin.html",controller:"AdminCtrl",controllerAs:"admin",resolve:{upcomingMovies:["upcomingMovies",function(a){return a.upcoming()}]}}).when("/moviedetails",{templateUrl:"views/moviedetails.html",controller:"MoviedetailsCtrl",controllerAS:"moviedetails",resolve:{movieTomatoDetails:["movieDetails",function(a){return a.getTomatoResult()}],movieInfoDetails:["movieDetails",function(a){return a.getMovieInfo()}],movieShowTime:["movieDetails",function(a){return a.movieShowTime()}],getComments:["movieDetails",function(a){return a.getComments()}]}}).otherwise({redirectTo:"/"})}]),angular.module("backendTheatreApp").controller("MainCtrl",["$scope","$location","apiKey","searchMovieText","nowShowingInTheatres","upcomingMovies",function(a,b,c,d,e,f){console.log(e),console.log(f),a.imagePath=c.imagePath(),console.log(c.imagePath());for(var g=0;g<f.length;g++){var h=new Date(f[g].upReleaseDate).toDateString();h=h.split(" "),console.log(h[1],h[2]),f[g].date=h[2],f[g].month=h[1]}a.slide_index=0,a.slide_left=function(){a.slide_index-4<=0?(a.slide_index=0,a.movieNowShowing=e.slice(0,4)):(a.slide_index-=4,a.movieNowShowing=e.slice(a.slide_index,a.slide_index+4))},a.slide_right=function(){a.slide_index+4>=e.length?(a.slide_index=e.length-4,a.movieNowShowing=e.slice(a.slide_index,e.length)):(a.slide_index=a.slide_index+4,a.slide_index+4>=e.length?(a.slide_index=e.length-4,a.movieNowShowing=e.slice(a.slide_index,e.length)):a.movieNowShowing=e.slice(a.slide_index,a.slide_index+4))},a.slide_left(),a.slide_index_upcoming=0,a.slide_left_upcoming=function(){a.slide_index_upcoming-5<=0?(a.slide_index_upcoming=0,a.movieComingSoon=f.slice(0,5)):(a.slide_index_upcoming-=5,a.movieComingSoon=f.slice(a.slide_index_upcoming,a.slide_index_upcoming+5))},a.slide_right_upcoming=function(){a.slide_index_upcoming+5>=f.length?(a.slide_index_upcoming=f.length-5,a.movieComingSoon=f.slice(a.slide_index_upcoming,f.length)):(a.slide_index_upcoming=a.slide_index_upcoming+5,a.slide_index_upcoming+5>=f.length?(a.slide_index_upcoming=f.length-5,a.movieComingSoon=f.slice(a.slide_index_upcoming,f.length)):a.movieComingSoon=f.slice(a.slide_index_upcoming,a.slide_index_upcoming+5))},a.slide_left_upcoming(),a.images="../images/add_to_cart_button.png",a.moreInfo=function(a){d.set(a),b.url("/moviedetails"),console.log("----------------------",a)},a.list_show_none=["1:35 pm","4:00 pm","6:35 pm","9:15 pm"],a.list_now_showing=[{image:"../images/img1.png"},{image:"../images/img2.png"},{image:"../images/img3.png"},{image:"../images/img1.png"}]}]),angular.module("backendTheatreApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("backendTheatreApp").directive("addToCart",["apiKey",function(a){var b=a.imagePath();return{restrict:"E",template:"<a ng-href='#/moviedetails'><img ng-src=\""+b+'/images/add_to_cart_button.png" class="align_add_to_cart"  ></a>'}}]).directive("starRating",function(){return{scope:{rating:"=",maxRating:"@",readOnly:"@",click:"&",mouseHover:"&",mouseLeave:"&"},restrict:"EA",template:"<div style='display: inline-block; margin: 0px; padding: 0px; cursor:pointer;' ng-repeat='idx in maxRatings track by $index'> <img ng-src='{{((hoverValue + _rating) <= $index) && \"http://www.codeproject.com/script/ratings/images/star-empty-lg.png\" || \"http://www.codeproject.com/script/ratings/images/star-fill-lg.png\"}}'ng-Click='isolatedClick($index + 1)'ng-mouseenter='isolatedMouseHover($index + 1)'ng-mouseleave='isolatedMouseLeave($index + 1)'></img> </div>",compile:function(a,b){(!b.maxRating||Number(b.maxRating)<=0)&&(b.maxRating="5")},controller:["$scope","$element","$attrs",function(a,b,c){a.maxRatings=[];for(var d=1;d<=a.maxRating;d++)a.maxRatings.push({});a._rating=a.rating,a.isolatedClick=function(b){"true"!=a.readOnly&&(a.rating=a._rating=b,a.hoverValue=0,a.click({param:b}))},a.isolatedMouseHover=function(b){"true"!=a.readOnly&&(a._rating=0,a.hoverValue=b,a.mouseHover({param:b}))},a.isolatedMouseLeave=function(b){"true"!=a.readOnly&&(a._rating=a.rating,a.hoverValue=0,a.mouseLeave({param:b}))}}]}}),angular.module("backendTheatreApp").controller("IndexCtrl",["$scope","$window","movieTomato","searchMovieText","$location","$uibModalInstance",function(a,b,c,d,e,f){a.close=function(){f.close()},a.movieToSearch="",a.searchMovies=function(b){a.movieToSearch=b,d.set(a.movieToSearch),console.log("Movie entered",a.movieToSearch),a.close(),a.redirect=function(){e.url("/moviedetails")},a.redirect()}}]),angular.module("backendTheatreApp").controller("SearchmodalCtrl",["$scope","$uibModal",function(a,b){a.open=function(a){console.log(a),b.open({templateUrl:"/views/searchmodal.html",controller:"IndexCtrl",size:a})}}]),angular.module("backendTheatreApp").factory("signup",["$q","$http","apiKey",function(a,b,c){return{registration:function(d){var e=a.defer();return b.post(""+c.apiUrlFn()+"db/registerUser",d).success(function(a,b,c){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise}}}]).factory("signin",["$q","$http","apiKey",function(a,b,c){return{signin:function(d){var e=a.defer();return b.post(""+c.apiUrlFn()+"db/userLogin",d).success(function(a,b,c){console.log(a),e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},userLoggedIn:function(){var d=a.defer();return b.get(""+c.apiUrlFn()+"db/check").success(function(a,b,c){console.log(a),d.resolve(a)}).error(function(a){d.reject(a)}),d.promise}}}]).factory("signout",["$q","$http","apiKey",function(a,b,c){return{signout:function(){var d=a.defer();return b.get(""+c.apiUrlFn()+"db/userLogout").success(function(a,b,c){console.log(a),d.resolve(a)}).error(function(a){d.reject(a)}),d.promise}}}]).factory("userLogInStatus",function(){var a={},b=function(b){a.emailId=b,console.log(a)},c=function(){return console.log(a),a.emailId};return{loginUser:b,getUser:c}}).factory("searchMovieText",function(){var a={};return a.obj="",a.obj1="",a.set=function(b){a.obj=b},a.get=function(){return a.obj},a}).factory("upcomingMovies",["$q","$http","apiKey",function(a,b,c){return{upcoming:function(){var d=a.defer();return b.get(""+c.apiUrlFn()+"db/upcoming").success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise}}}]).factory("nowShowing",["$q","$http","apiKey",function(a,b,c){return{nowShowingMovies:function(){var d=a.defer();return b.get(""+c.apiUrlFn()+"db/nowShowing").success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise}}}]).factory("movieDetails",["$q","localStorageService","$http","apiKey","searchMovieText",function(a,b,c,d,e){var f="";return{postComments:function(g){var h=a.defer();f=e.get(),""!=f||(f=b.get("storeId"));var i=null;return i=localStorage.getItem("FB_LoggedIn_User_EmailID")?localStorage.getItem("FB_LoggedIn_User_EmailID"):"anonymous@email.com",c.post(""+d.apiUrlFn()+"db/addComment/"+f+"/"+i,g).success(function(a){h.resolve(a)}).error(function(a){console.log("????",a),h.reject(a)}),h.promise},getComments:function(){var g=a.defer();if(f=e.get(),""!=f){b.set("storeId",f)}else f=b.get("storeId");return console.log(""+d.apiUrlFn()+"db/getComments/"+f),c.get(""+d.apiUrlFn()+"db/getComments/"+f).success(function(a){g.resolve(a)}).error(function(a){g.reject(a)}),g.promise},getTomatoResult:function(){var g=a.defer();if(f=e.get(),""!=f){b.set("storeId",f)}else f=b.get("storeId");return console.log('"" + apiKey.apiUrlFn() + "db/rottenTomatoes/"+id',""+d.apiUrlFn()+"db/rottenTomatoes/"+f),c.get(""+d.apiUrlFn()+"db/rottenTomatoes/"+f).success(function(a){g.resolve(a)}).error(function(a){g.reject(a)}),g.promise},getMovieInfo:function(){var b=a.defer();return c.get(""+d.apiUrlFn()+"/db/movieinfo/"+f).success(function(a){b.resolve(a)}).error(function(a){b.reject(a)}),b.promise},movieShowTime:function(){var b=a.defer();return c.get(""+d.apiUrlFn()+"/db/admin/get-movie-schedule/"+f).success(function(a){b.resolve(a)}).error(function(a){b.reject(a)}),b.promise}}}]).factory("movieApiaryInfo",["$q","$http","apiKey","searchMovieText",function(a,b,c,d){var e="",f="",g="";return{getSearchDetails:function(){var h=a.defer();return b.get(""+c.movieApiUrl+"search/movie?api_key="+c.key+"&query="+d.get()+"&year=2016").success(function(a){e=a.results[0].id,f=a.results[0].title,g=a.results[0].imdb_id,h.resolve(a,e,g)}).error(function(a){h.reject(a)}),h.promise},getMovieById:function(d){var e=a.defer(),f="";return b.get(""+c.movieApiUrl+"movie/"+d+"?api_key="+c.key).success(function(a){f=a,e.resolve(a)}).error(function(a){f=a,e.reject(a)}),e.promise},getTomatoResult1:function(c){var d=a.defer();return b.get("http://www.omdbapi.com/?i="+c+"&year=2016&plot=full&r=json&tomatoes=true").success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise}}}]),angular.module("backendTheatreApp").controller("MoviedetailsCtrl",["$sce","localStorageService","$http","$route","$uibModal","$location","apiKey","$q","$scope","movieTomatoDetails","movieInfoDetails","movieShowTime","getComments","movieDetails",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){n.getComments().then(function(a){i.h=!0,i.getCommentss=a})}console.log("---------",j),console.log("++++++++++++",k),console.log("///////////////////////////",l),i.movieShowTime=l,i.imagePath=g.imagePath(),console.log(g.imagePath()),i.displayTomatoData={},i.displayTomatoData.imdbID=j.mtImdbID,i.displayTomatoData.movieDescription=j.mtMovieDescription,i.displayTomatoData.movieTitle=j.mtMovieTitle,i.displayTomatoData.allCritics=JSON.parse(j.mtAllCritics),i.displayTomatoData.topCritics=JSON.parse(j.mtTopCritics),i.displayTomatoData.audienceScore=JSON.parse(j.mtAudienceScore),i.displayTomatoData.genre=JSON.parse(j.mtGenre),i.displayMovieDetails=k,i.displayMovieDetails.infoMovieRuntime=parseInt(i.displayMovieDetails.infoMovieRuntime.replace("min",""));var p=i.displayMovieDetails.infoMovieRuntime,q=Math.trunc(p/60),r=p%60;i.displayMovieDetails.infoMovieRuntime=""+q+" hr."+r+" min",i.displayMovieDetails.infoMoviePosterPath=i.displayMovieDetails.infoMoviePosterPath.replace("./app",".."),1==i.displayMovieDetails.infoMovieBuyTicketsButton?i.displayMovieDetails.infoMovieBuyTicketsButton=!0:i.displayMovieDetails.infoMovieBuyTicketsButton=!1,i.kidsinmind=!1,null==i.displayMovieDetails.movieKIM_Rating?i.kidsinmind=!1:(i.displayMovieDetails.kimRating=i.displayMovieDetails.movieKIM_Rating.match(/\d{1}.\d{1}.\d{1,2}/)[0],i.displayMovieDetails.kimRating=i.displayMovieDetails.kimRating.split("."),i.displayMovieDetails.s_n="/images/kidsinmind/s&n"+i.displayMovieDetails.kimRating[0]+".jpg",i.displayMovieDetails.v_g="/images/kidsinmind/v&g"+i.displayMovieDetails.kimRating[1]+".jpg",i.displayMovieDetails.prof="/images/kidsinmind/prof"+i.displayMovieDetails.kimRating[2]+".jpg",i.displayMovieDetails.one_ten="/images/kidsinmind/1to10.jpg",i.kidsinmind=!0),console.log("The kids in mind rating is ",i.displayMovieDetails.kimRating,i.kidsinmind),i.displayMovieDetails.releaseYear=i.displayMovieDetails.infoMovieInTheatres.substr(i.displayMovieDetails.infoMovieInTheatres.length-4),console.log(i.displayMovieDetails);var s=i.displayTomatoData.allCritics.tomatometer;s>=60&&75>s?i.displayTomatoData.allCritics.tomatoImage="/images/rt_fresh.jpg":59>=s?i.displayTomatoData.allCritics.tomatoImage="/images/rt_rotten.jpg":i.displayTomatoData.allCritics.tomatoImage="/images/rt_certified.jpg";var t=i.displayTomatoData.topCritics.tomatometer;t>=60&&75>t?i.displayTomatoData.topCritics.tomatoImage="/images/rt_fresh.jpg":59>=t?i.displayTomatoData.topCritics.tomatoImage="/images/rt_rotten.jpg":i.displayTomatoData.topCritics.tomatoImage="/images/rt_certified.jpg",i.allBoldOrNormal="criticsLink",i.topBoldOrNormal="criticsLink",i.click=function(a){"all"==a?(i.tomatoMeter=i.displayTomatoData.allCritics,i.allBoldOrNormal="criticsLinkTextBold",i.topBoldOrNormal="criticsLink"):(i.tomatoMeter=i.displayTomatoData.topCritics,i.allBoldOrNormal="criticsLink",i.topBoldOrNormal="criticsLinkTextBold")},i.click("all");var u=i.displayTomatoData.audienceScore.averageRating;u=parseFloat(u.replace("/5","")),u>=3.5?i.displayTomatoData.audienceScore.audienceImage="/images/rt_user_likes.jpg":3.5>u&&(i.displayTomatoData.audienceScore.audienceImage="/images/rt_user_dislike.jpg"),i.audienceScore=i.displayTomatoData.audienceScore,i.audienceScore.ratingCount=i.audienceScore.ratingCount.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),console.log(i.displayTomatoData),i.totalCasts=JSON.parse(i.displayMovieDetails.infoMovieCasts);for(var v=0;v<i.totalCasts.length;v++)null==i.totalCasts[v].profile_path?i.totalCasts[v].profile_path="/images/credits/image_not_found.jpg":i.totalCasts[v].profile_path="/images/credits"+i.totalCasts[v].profile_path;i.show6CastsFunction=function(){i.show6Casts={};for(var a=0;8>a;a++)i.show6Casts[a]=i.totalCasts[a]},i.show6CastsFunction(),i.show6Casts={};for(var w=0;8>w;w++)i.show6Casts[w]=i.totalCasts[w];i.ngShowAllText=!0,i.show6CastsText=!0,i.showAll=function(a){i.show6Casts=i.totalCasts,i.ngShowAllText=!a,1==i.ngShowAllText&&i.show6CastsFunction()},i.displayTomatoData.trailer="https://www.youtube.com/results?search_query="+i.displayTomatoData.movieTitle+"+trailer",i.trustSrc=function(b){return a.trustAsResourceUrl("https://www.youtube.com/embed?listType=search&amp;list="+b+"+Trailer")},a.trustAsResourceUrl(i.displayTomatoData.trailer),i.h=!1,console.log("Get Comments",m),o(),i.postComments=function(){var a={user_comments:i.user_comments,star_rating:i.star_rating,current_time:parseInt(moment().format("x"))};void 0==i.user_comments||""==i.user_comments.trim()?alert("Please write something to Comment..!"):n.postComments(a).then(function(a){i.getCommentss=a,i.user_comments=null,i.star_rating=null})},i.epoch_to_datetime=function(a){a=parseInt(a);new Date;return angular.isDefined(a)?moment(a).format("MMMM DD, YYYY"):void 0},i.hoveringOver=function(a){i.overStar=a,i.percent=100*(a/i.max)},i.ratingStates=[{stateOn:"glyphicon-ok-sign",stateOff:"glyphicon-ok-circle"},{stateOn:"glyphicon-star",stateOff:"glyphicon-star-empty"},{stateOff:"glyphicon-off"}]}]),angular.module("backendTheatreApp").service("apiKey",["$location","$http",function(a,b){var c="",d="";return{key:"2c9306d42037dfb0de0fc3f153819054",movieApiUrl:"http://api.themoviedb.org/3/",apiUrlFn:function(){return c="localhost"==a.host()?"http://localhost:8000/api/":"http://18.217.132.65/api/"},imagePath:function(){return d="localhost"==a.host()?"http://127.0.0.5/":"http://18.217.132.65/"}}}]),angular.module("backendTheatreApp").controller("AdminCtrl",["$scope","upcomingMovies","apiKey","$http",function(a,b,c,d){a.upcomingMovies=b,a.admin_upMovieDelete=function(b,e){console.log(e),d["delete"](""+c.apiUrlFn()+"db/upcoming/"+b).then(function(b){a.upcomingMovies.splice(e,1)})}}]),angular.module("backendTheatreApp").controller("SignupCtrl",["$scope","$rootScope","$uibModalInstance","$uibModal","signup",function(a,b,c,d,e){a.cancel=function(){c.dismiss("cancel")},a.openSignIn=function(b){a.cancel();d.open({templateUrl:"views/signin.html",controller:"SigninCtrl",size:b})},a.registerUser=function(){a.data={firstName:a.register.firstName,lastName:a.register.lastName,emailId:a.register.emailId,password:a.register.password,confirm_password:a.register.confirm_password},e.registration(a.data).then(function(c,d){console.log(c),console.log(d),"Fail"!=c.Status&&(b.$broadcast("signinWithSignUp",a.data),a.cancel())})}}]),angular.module("backendTheatreApp").controller("HeaderCtrl",["$scope","$timeout","$cookieStore","$rootScope","userLogInStatus","$uibModal","signout","Idle","apiKey",function(a,b,c,d,e,f,g,h,i){a.imagePath=i.imagePath(),a.showUser=!1,a.userDetails=c.get("userLogin"),console.log("-------in side header js",a.userDetails),d.$on("userLoggedin",function(b,d){a.showUser=!0,a.loginRegister=!1,a.userDetails=c.get("userLogin"),a.start(),console.log("---------------------",d,a.userDetails)}),a.logout=function(){g.signout().then(function(b){console.log(b),a.showUser=!1,a.loginRegister=!0,c.remove("userLogin")})},a.openSignIn=function(a){f.open({templateUrl:"views/signin.html",controller:"SigninCtrl",size:a})},a.openSignUp=function(a){f.open({templateUrl:"views/signup.html",controller:"SignupCtrl",size:a})},a.started=!1,a.closeModals=function(){a.warning&&(a.warning.close(),a.warning=null),a.timedout&&(a.timedout.close(),a.timedout=null)},a.$on("IdleStart",function(){a.closeModals(),a.warning=f.open({templateUrl:"views/warning-dialog.html",windowClass:"modal-danger"})}),a.$on("IdleEnd",function(){a.closeModals()}),a.$on("IdleTimeout",function(){a.closeModals(),a.timedout=f.open({templateUrl:"views/timedout-dialog.html",windowClass:"modal-danger"}),a.stop()}),a.start=function(){a.closeModals(),h.watch(),a.started=!0},a.stop=function(){a.closeModals(),h.unwatch(),a.started=!1,a.logout()},null!=a.userDetails||void 0!=a.userDetails?(a.showUser=!0,a.loginRegister=!1,a.start()):(a.showUser=!1,a.loginRegister=!0)}]),angular.module("backendTheatreApp").controller("FooterCtrl",["$scope","apiKey",function(a,b){a.currentYear=(new Date).getFullYear(),a.imagePath=b.imagePath()}]),angular.module("backendTheatreApp").controller("SigninCtrl",["$scope","$rootScope","userLogInStatus","$uibModalInstance","$cookieStore","$uibModal","signin",function(a,b,c,d,e,f,g){a.cancel=function(){d.dismiss("cancel")},a.openSignUp=function(b){a.cancel();f.open({templateUrl:"views/signup.html",controller:"SignupCtrl",size:b})},b.$on("signinWithSignUp",function(b,c){console.log("---------------------",c),a.register.emailId=c.emailId,a.register.password=c.password,a.signinUser()}),a.register={emailId:"",password:""},a.signinUser=function(){a.data={emailId:a.register.emailId,password:a.register.password},g.signin(a.data).then(function(c,d){console.log(c),console.log(d),"Fail"!=c.Status?(a.userLoggedIn=!0,e.put("userLogin",a.register.emailId),b.$broadcast("userLoggedin",a.register.emailId),a.cancel()):a.userLoggedIn=!1})}}]),angular.module("backendTheatreApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/admin.html",'<div class="container"> <div class="row"> <div class="col-md-3"> <ul class="nav nav-pills nav-stacked admin-menu"> <li class="active"><a href="#" data-target-id="home"><i class="fa fa-home fa-fw"></i>Main Settings</a></li> <li><a href="http://www.jquery2dotnet.com" data-target-id="widgets"><i class="fa fa-list-alt fa-fw"></i>Currently Playing</a></li> <li><a href="http://www.jquery2dotnet.com" data-target-id="pages"><i class="fa fa-file-o fa-fw"></i>Coming Soon</a></li> <li><a href="http://www.jquery2dotnet.com" data-target-id="charts"><i class="fa fa-bar-chart-o fa-fw"></i>Contact Settings</a></li> <li><a href="http://www.jquery2dotnet.com" data-target-id="table"><i class="fa fa-table fa-fw"></i>Location Settings</a></li> <li><a href="http://www.jquery2dotnet.com" data-target-id="forms"><i class="fa fa-tasks fa-fw"></i>Prices</a></li> <li><a href="http://www.jquery2dotnet.com" data-target-id="calender"><i class="fa fa-calendar fa-fw"></i>Reports</a></li> <li><a href="http://www.jquery2dotnet.com" data-target-id="library"><i class="fa fa-book fa-fw"></i>Future Use</a></li> <li><a href="http://www.jquery2dotnet.com" data-target-id="applications"><i class="fa fa-pencil fa-fw"></i>Future Use</a></li> <li><a href="http://www.jquery2dotnet.com" data-target-id="settings"><i class="fa fa-cogs fa-fw"></i>Future Use</a></li> </ul> </div> <div class="col-md-9 well admin-content" id="home"> <p>Main Settings Here</p> <form name="form1" method="post" action=""> <p> <label for="SiteName">Website Name:</label> <input name="SiteName" type="text" id="SiteName" value="Huntsville Cinestar Theatre" size="50"> </p> <p> <label for="WebLink">Website Address:</label> <input name="WebLink" type="text" id="WebLink" value="http://www.cinestar.affpc.com" size="50"> </p> <p> <label for="screencount">Number of Screens:</label> <select name="screencount" size="1" id="screencount"> <option value="1">1</option> <option value="2">2</option> <option value="3">3</option> <option value="4" selected>4</option> <option value="5">5</option> <option value="6">6</option> <option value="7">7</option> <option value="8">8</option> <option value="9">9</option> <option value="10">10</option> </select> </p> <p> <label for="CurrentTime">CurrentTime:</label> <input type="text" name="CurrentTime" id="CurrentTime"> </p> <p> <label for="TimeZone">TimeZone:</label> <select name="TimeZone" id="TimeZone"> </select> </p> <p>---------------------------------------------------------</p> <p><strong>Auto Play Time Configs:</strong> Start Time + Movie Run Time + Commerical Time + Clean Time = Next Start Time (rounded up to top of hour or 15 , 30 or 45 after)</p> <table width="100%" border="0"> <tr> <td>&nbsp;</td> <td align="center">Mon</td> <td align="center">Tues</td> <td align="center">Wed</td> <td align="center">Thur</td> <td align="center">Fri</td> <td align="center">Sat</td> <td align="center">Sun</td> </tr> <tr> <td>Start Time:</td> <td align="center"><label for="MondayStart"></label> <input name="MondayStart" type="text" id="MondayStart" value="10:00 AM" size="8"></td> <td align="center"><label for="TuesdayStart"></label> <input name="TuesdayStart" type="text" id="TuesdayStart" value="10:00 AM" size="8"></td> <td align="center"><label for="WednesdayStart"></label> <input name="WednesdayStart" type="text" id="WednesdayStart" value="10:00 AM" size="8"></td> <td align="center"><label for="ThursdayStart"></label> <input name="ThursdayStart" type="text" id="ThursdayStart" value="10:00 AM" size="8"></td> <td align="center"><label for="FridayStart"></label> <input name="FridayStart" type="text" id="FridayStart" value="10:00 AM" size="8"></td> <td align="center"><label for="SaturdayStart"></label> <input name="SaturdayStart" type="text" id="SaturdayStart" value="10:00 AM" size="8"></td> <td align="center"><label for="SundayStart"></label> <input name="SundayStart" type="text" id="SundayStart" value="10:00 AM" size="8"></td> </tr> <tr> <td>End Time:</td> <td align="center"><label for="MondayEnd"></label> <input name="MondayEnd" type="text" id="MondayEnd" value="10:00 PM" size="8"></td> <td align="center"><label for="MondayEnd"></label> <input name="MondayEnd" type="text" id="MondayEnd" value="10:00 PM" size="8"></td> <td align="center"><label for="MondayEnd"></label> <input name="MondayEnd" type="text" id="MondayEnd" value="10:00 PM" size="8"></td> <td align="center"><label for="MondayEnd"></label> <input name="MondayEnd" type="text" id="MondayEnd" value="10:00 PM" size="8"></td> <td align="center"><label for="MondayEnd"></label> <input name="MondayEnd" type="text" id="MondayEnd" value="10:00 PM" size="8"></td> <td align="center"><label for="MondayEnd"></label> <input name="MondayEnd" type="text" id="MondayEnd" value="10:00 PM" size="8"></td> <td align="center"><label for="MondayEnd"></label> <input name="MondayEnd" type="text" id="MondayEnd" value="10:00 PM" size="8"></td> </tr> </table> <p>&nbsp;</p> <p> <label for="CommericalTime">Commerical Time:</label> <input name="CommericalTime" type="text" id="CommericalTime" value="25 minutes"> </p> <p> <label for="CleanTime">Clean Time:</label> <input name="CleanTime" type="text" id="CleanTime" value="45 minutes"> </p> <p>-----------------------------------------------------------</p> <p> <input type="submit" name="Save" id="Save" value="Save"> </p> <p>&nbsp;</p> </form> <p>&nbsp;</p> </div> <div class="col-md-9 well admin-content" id="widgets"> Currently Playing Here <div> <button ng-click="addMovie()">Add movie</button> <button ng-click="removeMovie()">Remove movie</button> </div> <style type="text/css">.playdays {\n                    font-size: 9px;\n                }</style> <table width="100%" border="0"> <tr> <td><table width="100%" border="1"> <tr> <td><table width="100%" border="0"> <tr> <td align="center" bgcolor="#CCCCCC">Poster</td> <td align="center" bgcolor="#CCCCCC">Title</td> <td align="center" bgcolor="#CCCCCC">Length</td> <td align="center" bgcolor="#CCCCCC">Screen #</td> <td align="center" bgcolor="#CCCCCC">2D/3D</td> <td bgcolor="#CCCCCC"> </td> </tr> <tr> <td align="center"><img src="http://cinestar.affpc.com/images/nowShowing/inVq3FRqcYIRl2la8iZikYYxFNR.jpg" width="122" height="183"></td> <td align="center">Deadpool (2016)</td> <td align="center">1 hr.48 min</td> <td align="center">1</td> <td align="center"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRTAzinjLWPltwH-uOnnx5I52yTt0N25ni2RX6s70GfWyW8WbRU" width="65" height="55"></td> <td align="center"><a href="#">Add</a> | <a href="#">Remove</a> | <a href="#">Edit</a></td> </tr> </table></td> </tr> <tr> <td><table width="100%" border="0"> <tr class="playdays"> <td align="center" bgcolor="#CCCCCC">Monday</td> <td align="center" bgcolor="#CCCCCC">Tuesday</td> <td align="center" bgcolor="#CCCCCC">Wednesday</td> <td align="center" bgcolor="#CCCCCC">Thursday</td> <td align="center" bgcolor="#CCCCCC">Friday</td> <td align="center" bgcolor="#CCCCCC">Saturday</td> <td align="center" bgcolor="#CCCCCC">Sunday</td> </tr> <tr class="playdays"> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> <td align="center" valign="top"><p>12:00PM</p> <p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p> <p>12:00AM</p></td> <td align="center" valign="top"><p>12:00PM</p> <p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p> <p>12:00AM</p></td> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> </tr> </table></td> </tr> </table></td> </tr> <tr> <td> <table width="100%" border="1"> <tr> <td><table width="100%" border="0"> <tr> <td align="center" bgcolor="#CCCCCC">Poster</td> <td align="center" bgcolor="#CCCCCC">Title</td> <td align="center" bgcolor="#CCCCCC">Length</td> <td align="center" bgcolor="#CCCCCC">Screen #</td> <td align="center" bgcolor="#CCCCCC">2D/3D</td> <td bgcolor="#CCCCCC"> </td> </tr> <tr> <td align="center"><img src="http://cinestar.affpc.com/images/nowShowing/inVq3FRqcYIRl2la8iZikYYxFNR.jpg" width="122" height="183"></td> <td align="center">Deadpool (2016)</td> <td align="center">1 hr.48 min</td> <td align="center">2</td> <td align="center"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSK6YklnklaUUUypW-9SQwFJUmyjOmiPVk1vYB02lSmgNzq2FQ6" alt="" width="65" height="55"></td> <td align="center"><a href="#">Add</a> | <a href="#">Remove</a> | <a href="#">Edit</a></td> </tr> </table></td> </tr> <tr> <td><table width="100%" border="0"> <tr class="playdays"> <td align="center" bgcolor="#CCCCCC">Monday</td> <td align="center" bgcolor="#CCCCCC">Tuesday</td> <td align="center" bgcolor="#CCCCCC">Wednesday</td> <td align="center" bgcolor="#CCCCCC">Thursday</td> <td align="center" bgcolor="#CCCCCC">Friday</td> <td align="center" bgcolor="#CCCCCC">Saturday</td> <td align="center" bgcolor="#CCCCCC">Sunday</td> </tr> <tr class="playdays"> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> <td align="center" valign="top"><p>12:00PM</p> <p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p> <p>12:00AM</p></td> <td align="center" valign="top"><p>12:00PM</p> <p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p> <p>12:00AM</p></td> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> </tr> </table></td> </tr> </table> </td> </tr> <tr> <td> <table width="100%" border="1"> <tr> <td><table width="100%" border="0"> <tr> <td align="center" bgcolor="#CCCCCC">Poster</td> <td align="center" bgcolor="#CCCCCC">Title</td> <td align="center" bgcolor="#CCCCCC">Length</td> <td align="center" bgcolor="#CCCCCC">Screen #</td> <td align="center" bgcolor="#CCCCCC">2D/3D</td> <td bgcolor="#CCCCCC"> </td> </tr> <tr> <td align="center"><img src="http://cinestar.affpc.com/images/nowShowing/sM33SANp9z6rXW8Itn7NnG1GOEs.jpg" width="122" height="183"></td> <td align="center">Zootopia (2016)</td> <td align="center">1 hr.48 min</td> <td align="center">3</td> <td align="center"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRTAzinjLWPltwH-uOnnx5I52yTt0N25ni2RX6s70GfWyW8WbRU" alt="" width="65" height="55"></td> <td align="center"><a href="#">Add</a> | <a href="#">Remove</a> | <a href="#">Edit</a></td> </tr> </table></td> </tr> <tr> <td><table width="100%" border="0"> <tr class="playdays"> <td align="center" bgcolor="#CCCCCC">Monday</td> <td align="center" bgcolor="#CCCCCC">Tuesday</td> <td align="center" bgcolor="#CCCCCC">Wednesday</td> <td align="center" bgcolor="#CCCCCC">Thursday</td> <td align="center" bgcolor="#CCCCCC">Friday</td> <td align="center" bgcolor="#CCCCCC">Saturday</td> <td align="center" bgcolor="#CCCCCC">Sunday</td> </tr> <tr class="playdays"> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> <td align="center" valign="top"><p>12:00PM</p> <p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p> <p>12:00AM</p></td> <td align="center" valign="top"><p>12:00PM</p> <p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p> <p>12:00AM</p></td> <td align="center" valign="top"><p>2:00PM</p> <p>4:00PM</p> <p>6:00PM</p> <p>8:00PM</p> <p>10:00PM</p></td> </tr> </table></td> </tr> </table> </td> </tr> </table> </div> <div class="col-md-8 well admin-content" id="pages"> <div> <p>Coming Soon Here</p> </div> <div class="col-md-12 coming_soon_menu"> <div class="col-md-4"><h4 align="center">Poster</h4></div> <div class="col-md-2"><h4 align="center">Movie Name</h4></div> <div class="col-md-2"><h4 align="center">Duration</h4></div> <div class="col-md-2"><h4 align="center">Release Date</h4></div> <div class="col-md-2"><h4 align="center">Actions</h4></div> </div> <br> <div class="col-md-12 coming_soon_movies" ng-model="upcomingMovies" ng-repeat="adminUpcoming in upcomingMovies"> <div class="col-md-4 adminUpcoming"> <img ng-src="{{adminUpcoming.upPosterPath}}"> </div> <div class="col-md-2">{{adminUpcoming.upMovieName}}</div> <div class="col-md-2"><h4 align="center">Duration</h4></div> <div class="col-md-2">{{adminUpcoming.upReleaseDate}}</div> <div class="col-md-2"> <button type="button" class="btn btn-success" ng-click="admin_upMovieDelete(adminUpcoming.upMovieId, $index)">Delete</button> <button type="button" class="btn btn-success">Add to Screen</button> </div> </div> </div> <div class="col-md-9 well admin-content" id="charts">Contact Settings Here</div> <div class="col-md-9 well admin-content" id="table"> Location Settings Here </div> <div class="col-md-9 well admin-content" id="forms"> Price Settings Here </div> <div class="col-md-9 well admin-content" id="calender"> Reports Here </div> <div class="col-md-9 well admin-content" id="library">Future Use</div> <div class="col-md-9 well admin-content" id="applications">Future Use</div> <div class="col-md-9 well admin-content" id="settings">Future Use</div> </div> </div> <script type="text/javascript">$(document).ready(function()\n    {\n        var navItems = $(\'.admin-menu li > a\');\n        var navListItems = $(\'.admin-menu li\');\n        var allWells = $(\'.admin-content\');\n        var allWellsExceptFirst = $(\'.admin-content:not(:first)\');\n\n        allWellsExceptFirst.hide();\n        navItems.click(function(e)\n        {\n            e.preventDefault();\n            navListItems.removeClass(\'active\');\n'+"            $(this).closest('li').addClass('active');\n\n            allWells.hide();\n            var target = $(this).attr('data-target-id');\n            $('#' + target).show();\n        });\n    });</script> <style type=\"text/css\">.coming_soon_menu{\n        background-color: #5f5f5f;\n        color: white;\n        border-bottom-style: solid;\n        border-color: white;\n    }\n    .coming_soon_movies{\n        background-color: black;\n        color: ghostwhite;\n        border-bottom-style: solid;\n        border-color: white;\n    }\n    .coming_soon_movies>.adminUpcoming>img{\n        width: 160px;\n        height: 230px;\n    }</style>"),
a.put("views/footer.html",'<div class="footer" ng-controller="FooterCtrl"> <div class="container"> <div class="col-md-12"> <div class="row"> <div class="col-md-3 cinestar_logo"> <img ng-src="{{imagePath}}images/Logo.png"> </div> <!-- end col-md-2 --> <div class="col-md-6" id="bottom-list"> <ul class="list-inline"> <li><a href="#/">Movies</a></li> <li><a ng-href="#/about">Promotions</a></li> <li><a ng-href="#/">Contact</a></li> <li><a ng-href="#/">Location</a></li> </ul> <p>&copy; &nbsp;{{currentYear}}&nbsp;Cinestar Cinema</p> </div> <div class="col-md-3"> <ul class="list-inline" id="right-menu-bottom"> <li><a ng-href="#"><img ng-src="{{imagePath}}images/twitter.png"></a></li> <li><a ng-href="#"><img ng-src="{{imagePath}}images/facebook.png"></a></li> </ul> </div> <!-- end col-md-5 --> </div> </div> </div> </div>'),a.put("views/header.html",'<div class="header" ng-controller="HeaderCtrl"> <div class="navbar" role="navigation"> <div class="container"> <div class="col-md-12"> <div class="row"> <div class="col-md-5" id="top-list"> <ul class="list-inline"> <li><a href="#">Movies</a></li> <li><a ng-href="#/about">Promotions</a></li> <li><a ng-href="#/moviedetails">Contact</a></li> <li><a ng-href="#/">Location</a></li> </ul> </div> <div class="col-md-2 cinestar_logo"> <img ng-src="{{imagePath}}images/Logo.png"> </div> <!-- end col-md-2 --> <div class="col-md-5"> <ul class="list-inline" id="right-menu"> <!--Trigger the modal--> <li><a ng-href="#"><img ng-src="{{imagePath}}images/twitter.png"></a></li> <li><a ng-href="#"><img ng-src="{{imagePath}}images/facebook.png"></a></li> <li><a ng-href="#"><img ng-src="{{imagePath}}images/add_to_cart.png"></a></li> <!--<li><a  ng-show="loginRegister" class="login_register" ng-click="openSignIn(\'md\')">Login / Register</a></li>--> <!--<li ng-show="showUser" >Welcome <a class="login_register" ng-model="userDetails" ng-click="logout()">{{userDetails}}</a></li>--> <li> <fb:login-button id="fbLogin" scope="public_profile,email" onlogin="checkLoginState()"> </fb:login-button> <div id="status"> </div> </li> <!--<li><a ng-click="openSignUp(\'md\')">Sign Up</a></li>--> </ul> </div> <!-- end col-md-5 --> </div> <!-- row --> </div> <!-- end md-12--> </div><!-- End Container --> </div> </div> <script>// This is called with the results from from FB.getLoginStatus().\n  function statusChangeCallback(response) {\n    console.log(response);\n    // The response object is returned with a status field that lets the\n    // app know the current login status of the person.\n    // Full docs on the response object can be found in the documentation\n    // for FB.getLoginStatus().\n    if (response.status === \'connected\') {\n      document.getElementById(\'fbLogin\').style.display = "none";\n\n      // Logged into your app and Facebook.\n      var accessToken = response.authResponse.accessToken;\n      testAPI(accessToken);\n    } else if (response.status === \'not_authorized\') {\n      // The person is logged into Facebook, but not your app.\n'+"      document.getElementById('status').innerHTML = 'Please log ' +\n        'into this app.';\n    } else {\n      // The person is not logged into Facebook, so we're not sure if\n      // they are logged into this app or not.\n      document.getElementById('status').innerHTML = 'Please log ' +\n        'into Facebook.';\n    }\n  }\n\n  // This function is called when someone finishes with the Login\n  // Button.  See the onlogin handler attached to it in the sample\n  // code below.\n  function checkLoginState() {\n    FB.getLoginStatus(function(response) {\n      statusChangeCallback( response);\n    });\n  }\n\n  window.fbAsyncInit = function() {\n\n    if(window.location.hostname =='localhost')\n    {\n      FB.init({\n        appId      : '126030407918627',\n        cookie     : true,  // enable cookies to allow the server to access\n                            // the session\n        xfbml      : true,  // parse social plugins on this page\n        version    : 'v2.8' // use graph api version 2.8\n      });\n    }\n    else {\n      FB.init({\n        appId      : '224771877990631',\n        cookie     : true,  // enable cookies to allow the server to access\n                            // the session\n        xfbml      : true,  // parse social plugins on this page\n        version    : 'v2.8' // use graph api version 2.8\n      });\n    }\n\n\n    // Now that we've initialized the JavaScript SDK, we call\n    // FB.getLoginStatus().  This function gets the state of the\n    // person visiting this page and can return one of three states to\n    // the callback you provide.  They can be:\n    //\n    // 1. Logged into your app ('connected')\n    // 2. Logged into Facebook, but not your app ('not_authorized')\n    // 3. Not logged into Facebook and can't tell if they are logged into\n    //    your app or not.\n    //\n    // These three cases are handled in the callback function.\n\n    FB.getLoginStatus(function(response) {\n      statusChangeCallback(response);\n    });\n\n  };\n\n  // Load the SDK asynchronously\n  (function(d, s, id) {\n    var js, fjs = d.getElementsByTagName(s)[0];\n    if (d.getElementById(id)) return;\n    js = d.createElement(s); js.id = id;\n    js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n    fjs.parentNode.insertBefore(js, fjs);\n  }(document, 'script', 'facebook-jssdk'));\n\n  // Here we run a very simple test of the Graph API after login is\n  // successful.  See statusChangeCallback() for when this call is made.\n  function testAPI(accessToken) {\n    console.log('Welcome!  Fetching your information.... ');\n    FB.api('/me?fields=name,email,picture,id', function(response) {\n      document.getElementById('status').innerHTML = 'Welcome, ' + response.name + '!';\n      var name = response.name;\n      name = name.split(\" \");\n      console.log(name);\n      var data = {\n        email : response.email,\n        first_name: name[0],\n        last_name: name[1],\n        accessToken:accessToken,\n        id:response.id,\n        fb_image:response.picture.data.url\n      };\n      console.log(data);\n      var apiUrl = null;\n      if(window.location.hostname =='localhost')\n      {\n        apiUrl = \"http://localhost:8000/api/\";\n      }\n      else {\n        // apiUrl = \"http://cinestar.affpc.com:8080/api/\";\n        apiUrl = \"http://www.cinex.press:8080/api/\";\n      }\n      $.post(apiUrl+\"db/fblogin\", data, function (response) {\n        localStorage.setItem(\"FB_LoggedIn_User_EmailID\",response.fb_mail);\n        localStorage.setItem(\"FB_LoggedIn_User_FirstName\",response.fb_first_name);\n        localStorage.setItem(\"FB_LoggedIn_User_LastName\",response.fb_last_name);\n        console.log(\"respnse\",response,\"--*--*\");\n      })\n    });\n  }</script> <!--\n  Below we include the Login Button social plugin. This button uses\n  the JavaScript SDK to present a graphical Login button that triggers\n  the FB.login() function when clicked.\n-->"),a.put("views/main.html",'<div class="row&quot;"> <div class="col-md-12" id="main_view"> <div class="row"> <div class="container"> <div class="col-md-1" id="top-angle-left"> <p><a ng-href=""><span ng-click="slide_left()" class="glyphicon glyphicon-menu-left blink"></span></a></p> </div> <div class="col-md-10"> <div class="col-md-4" id="left_banner_now_showing"></div> <div class="col-md-4" id="now_showing_text">NOW SHOWING</div> <div class="col-md-4" id="right_banner_now_showing"></div> </div> <div class="col-md-1" id="top-angle-right"> <p><span ng-click="slide_right()" class="glyphicon glyphicon-menu-right blink"></span></p> </div> </div> <div class="container" id="show_list"> <div class="col-md-3 container list_now_showing" ng-repeat="mvs in movieNowShowing"> <div class="wrap_all"> <img class="images" ng-src="{{imagePath}}{{mvs.infoMoviePosterPath}}"> <div class="all_timings"> <div class="list-show-none"> <span ng-repeat="list_show in mvs.list_show_none">{{list_show}}</span> </div> <div class="list-show-3d"> <span><img ng-src="{{imagePath}}{{mvs.list_show_3d_image}}"> </span> <span ng-repeat="list_show in mvs.list_show_3d">{{list_show}}</span> </div> <div class="list-show-2d"> <!--<img ng-src="">--> <span><img ng-src="{{imagePath}}{{mvs.list_show_2d_image}}"></span> <span ng-repeat="list_show in mvs.list_show_2d">{{list_show}}</span> </div> </div> <add-to-cart ng-click="moreInfo(mvs.infoImdbID)" class="align_add_to_cart show-cart"></add-to-cart> </div> </div> </div> </div> <div class="row coming-soon"> <div class="container coming-soon"> <div class="col-md-12"> <div class="col-md-5" id="bottom-angle-left"> <p><span ng-click="slide_left_upcoming()" class="glyphicon glyphicon-menu-left blink"></span></p> </div> <div class="col-md-2"> <h1 id="coming_soon_text">Coming Soon</h1> </div> <div class="col-md-5" id="bottom-angle-right"> <p><span ng-click="slide_right_upcoming()" class="glyphicon glyphicon-menu-right blink"></span></p> </div> </div> </div> <div class="container" id="coming-soon"> <div class="col-md-3" id="list_coming_soon" ng-repeat="mcs in movieComingSoon"> <div class="parent"> <!--<div class="imagewrap">--> <div class="date_month"> <h1 class="coming_soon_date">{{mcs.date}}</h1> <h1 class="coming_soon_month">{{mcs.month}}</h1> </div> <img class="coming_soon_circle" ng-src="{{imagePath}}/images/circle.png"> <!--</div>--> <img class="coming_soon_images" ng-src="{{imagePath}}{{mcs.upPosterPath}}"> </div> </div> </div> </div> </div> </div>'),a.put("views/moviedetails.html",'<link rel="stylesheet" href=""> <div class="row" data-ng-cloak> <div class="container"> <div class="col-md-8" data-ng-model="displayMovieDetails" ng-cloak> <!--<p>Hello {{movieTomato}}</p>--> <div class="container"> <div class="col-md-4"> <br> <img ng-src="{{imagePath}}{{displayMovieDetails.infoMoviePosterPath}}" class="mdImage"> </div> <div class="col-md-8" data-ng-model="displayTomatoData"> <div class="movieTitle"><h1>{{displayTomatoData.movieTitle}} ({{displayMovieDetails.releaseYear}})</h1></div> <div class="rottenTomatoesInfo col-md-12"> <div class="col-md-4 scorePanel" ng-model="tomatoMeter"> <h3>TOMATOMETER</h3> <div class="tomatoMeterText"> <img id="tomatoImage" ng-src="{{imagePath}}{{tomatoMeter.tomatoImage}}"> <span class="tomatoMeterPercentage">{{tomatoMeter.tomatometer}}%</span> </div> <br> <div class="tomatoMeterText">Average Rating: <span class="tomatoMeterTextResults">{{tomatoMeter.averageRating}}</span> </div> <div class="tomatoMeterText">Reviews Counted: <span class="tomatoMeterTextResults">{{tomatoMeter.reviewCount}}</span> </div> <div class="tomatoMeterText">Fresh: <span class="tomatoMeterTextResults">{{tomatoMeter.freshCount}}</span> </div> <div class="tomatoMeterText">Rotten: <span class="tomatoMeterTextResults">{{tomatoMeter.rottenCount}}</span> </div> </div> <div class="col-md-4 scorePanel" id="marginRight"> <br> <div class="shiftRight"> <span class="criticsHead"><a class="{{allBoldOrNormal}}" ng-click="click(\'all\')">All Critics</a></span> <span class="criticsHead">|</span> <span class="criticsHead"><a class="{{topBoldOrNormal}}" ng-click="click(\'top\')">Top Critics</a></span> </div> <br> <!--Progress Bar--> <div class="progress"> <div class="progress-bar" role="progressbar" style="width:0"></div> <div class="progress-bar" role="progressbar" aria-valuenow="{{tomatoMeter.tomatometer}}" aria-valuemin="0" aria-valuemax="100" style="width: {{tomatoMeter.tomatometer}}%"> </div> </div> <p class="criticsConcensus">Critics Consensus:<span class="criticsConcensusInfo">{{tomatoMeter.criticsConsensus}}</span></p> </div> <div class="col-md-4 scorePanel" ng-model="audienceScore"> <h3>AUDIENCE SCORE</h3> <div class="audiencePoint"> <img id="audienceImage" ng-src="{{imagePath}}{{audienceScore.audienceImage}}"> <span class="tomatoMeterPercentage">{{audienceScore.tomatometer}}%</span> </div> <br> <div class="tomatoMeterText">Average Rating: <span class="tomatoMeterTextResults">{{audienceScore.averageRating}}</span> </div> <div class="tomatoMeterText">User Rating: <span class="tomatoMeterTextResults">{{audienceScore.ratingCount}}</span> </div> </div> </div> </div> </div> <br> <div class="container" ng-model="displayMovieDetails"> <div class="col-md-4"> <p id="showtime">Showtimes</p> <div class="col-md-4 showtimeRow1">Timing</div> <div class="col-md-4 showtimeRow1">Adults</div> <div class="col-md-4 showtimeRow1">Kids</div> <div ng-repeat="showTime in movieShowTime"> <div class="col-md-4 showtimeRow2">{{showTime.movieStartTime}}</div> <div class="col-md-4 showtimeRow2">7$</div> <div class="col-md-4 showtimeRow2">1$</div> </div> </div> <div class="col-md-8"> <div class="movieDes">{{displayMovieDetails.infoMovieDescription}}</div> <br> <div class="col-md-4 movieTopic"> <div>Rating:</div> </div> <div class="col-md-8 movieDetails"> <div>{{displayMovieDetails.infoMovieRated}}</div> </div> <div class="col-md-4 movieTopic"> <div>Genre:</div> </div> <div class="col-md-8 movieDetails"> <div>{{displayMovieDetails.infoMovieGenre}}</div> </div> <div class="col-md-4 movieTopic"> <div>Directed By:</div> </div> <div class="col-md-8 movieDetails"> <div>{{displayMovieDetails.infoMovieDirectedBy}}</div> </div> <div class="col-md-4 movieTopic"> <div>Written By:</div> </div> <div class="col-md-8 movieDetails"> <div>{{displayMovieDetails.infoMovieWrittenBy}}</div> </div> <div class="col-md-4 movieTopic"> <div>In Theatres:</div> </div> <div class="col-md-8 movieDetails"> <div>{{displayMovieDetails.infoMovieInTheatres}}</div> </div> <div class="col-md-4 movieTopic"> <div>Box Office:</div> </div> <div class="col-md-8 movieDetails"> <div>{{displayMovieDetails.infoMovieBoxOffice}}</div> </div> <div class="col-md-4 movieTopic"> <div>Run Time:</div> </div> <div class="col-md-8 movieDetails"> <div>{{displayMovieDetails.infoMovieRuntime}}</div> </div> <!--<div class="col-md-4 movieTopic" ng-if="kidsinmind">--> <!--<br><br><br>--> <!--<div>Parents Rating:</div>--> <!--</div>--> <!--<div class="col-md-8 movieDetails" ng-if="kidsinmind">--> <!--&lt;!&ndash;<div><b>SEX & NUDITY</b></div>&ndash;&gt;--> <!--<div><img class="kim_sex_nudity" ng-src="{{imagePath}}{{displayMovieDetails.s_n}}"></div>--> <!--<div><img class="kim_violence_gore" ng-src="{{imagePath}}{{displayMovieDetails.v_g}}"></div>--> <!--<div><img class="kim_profanity" ng-src="{{imagePath}}{{displayMovieDetails.prof}}"></div>--> <!--<div><img class="kim_one2ten" ng-src="{{imagePath}}{{displayMovieDetails.one_ten}}"></div>--> <!--</div>--> <div class="col-md-8 movieTopic"> <div>{{displayMovieDetails.infoMovieProduction}}: <span><a ng-href="{{displayMovieDetails.infoMovieWebsite}}" target="_blank">Official Site</a> </span> </div> </div> </div> <div class="col-md-4"></div> <div class="col-md-8"><hr></div> </div> </div> <div class="col-md-4 rightPage" data-ng-model="theMovieDbId" ng-cloak> <!--Book tickets , Show trailer, Share on social media--> <div class="buttonShadow"> <button type="button" class="btn btn-default tickTrailerSocial" ng-show="displayMovieDetails.infoMovieBuyTicketsButton"> BUY TICKETS </button> </div> <div class="buttonShadow"> <button type="button" class="btn btn-default tickTrailerSocial"> SHARE ON <a ng-href="http://www.facebook.com"> <img class="shareSocial" ng-src="{{imagePath}}/images/shareOnFacebook.png"> </a> <span> <a ng-href="http://www.twitter.com"> <img class="shareSocial" ng-src="{{imagePath}}/images/shareOnTwitter.png"> </a> </span> </button> </div> <div class="buttonShadow"> <button type="button" class="btn btn-default tickTrailerSocial" data-toggle="modal" data-target="#myModal">WATCH TRAILER</button> </div> <div ng-show="kidsinmind"> <h4>Parents Rating</h4> <!--<div><b>SEX & NUDITY</b></div>--> <div><img class="kim_sex_nudity" ng-src="{{imagePath}}{{displayMovieDetails.s_n}}"></div> <div><img class="kim_violence_gore" ng-src="{{imagePath}}{{displayMovieDetails.v_g}}"></div> <div><img class="kim_profanity" ng-src="{{imagePath}}{{displayMovieDetails.prof}}"></div> <div><img class="kim_one2ten" ng-src="{{imagePath}}{{displayMovieDetails.one_ten}}"></div> </div> <!--Comments--> <div class="actionBox"> <ul class="commentList"> <li ng-repeat="comment in getCommentss"> <div class="commenterImage"> <img ng-src="{{comment.movieUserFBProfileImage}}"> </div> <div class="commentText"> <p class="">{{::comment.m_c_comment}}</p> <span class="date sub-text">on {{::epoch_to_datetime(comment.m_c_current_time)}}</span>&nbsp;&nbsp; <span class="pull-right" uib-rating ng-model="comment.m_c_star_rating" max="5" read-only="true" aria-labelledby="default-rating"></span> </div> </li> </ul> </div> <div class="comments" id="comment_section"> <h4 class="pull-left" id="comment_as">Comment As:- {{UserName}}</h4> <div class="comment_textarea"><textarea data-ng-model="user_comments" class="form-control" rows="4" cols="50" name="comment"></textarea></div> <div class="star_rating_n_post"> <span uib-rating ng-model="star_rating" max="5" read-only="false" on-hover="hoveringOver(value)" on-leave="overStar = null" titles="[\'one\',\'two\',\'three\']" aria-labelledby="default-rating"></span> <span><button type="button" ng-click="postComments()" class="btn bg-primary"> Post </button></span> </div> </div> <!--End Comments--> </div> </div> <div class="container"> <div class="col-md-3"> <div class="col-md-12"><p id="cast">Cast</p></div> </div> <br> <div class="col-md-12"> <div class="col-md-12" data-ng-model="casts"> <div class="col-md-3 casts" ng-repeat="casts in show6Casts"> <div class="col-md-4 castsImage"> <img ng-src="{{imagePath}}{{casts.profile_path}}"> </div> <div class="col-md-8"> <p>{{casts.name}}</p> <p class="castCharacter">as {{casts.character}}</p> </div> </div> </div> <div class="col-md-5"> <h6 class="ngShowAllText"> <a class="cursor4ShowAll" ng-if="ngShowAllText==true" ng-click="showAll(ngShowAllText)" ng-if="ngShowAllText==true"> Show More Cast <span class="glyphicon glyphicon-triangle-bottom cursor4ShowAll"></span> </a> </h6> <h6 class="ngShowAllText"> <a class="cursor4ShowAll" ng-if="ngShowAllText==false" ng-click="showAll(ngShowAllText)" ng-if="ngShowAllText==true"> Show Less Cast <span class="glyphicon glyphicon-triangle-top cursor4ShowAll"></span> </a> </h6> </div> </div> </div> </div> <!--<button class = "btn btn-primary btn-lg" data-toggle = "modal" data-target = "#myModal">--> <!--Launch demo modal--> <!--</button>--> <!-- Modal --> <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-ng-model="displayTomatoData"> <div class="modal-dialog"> <div class="moveCrossRight"> <span data-dismiss="modal" class="glyphicon glyphicon-remove-circle lightGray"></span> <!--<a data-dismiss="modal"><img clss="modalClose" src="../images/modalClose.png"></a>--> </div> <div class="modal-content" id="yt-player"> <div class="embed-responsive embed-responsive-16by9"> <iframe class="embed-responsive-item" ng-src="{{trustSrc(displayTomatoData.movieTitle)}}" allowfullscreen webkitallowfullscreen="true" mozallowfullscreen="true" scrolling="no"></iframe> <!--<iframe width="854" height="480" src="https://www.youtube.com/watch?v=jWM0ct-OLsM" frameborder="0" allowfullscreen></iframe>--> </div> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div><!-- /.modal --> <script type="text/javascript">$("#myModal").on(\'hidden.bs.modal\', function (e) {\n        $("#myModal iframe").attr("src", $("#myModal iframe").attr("src"));\n    });\n    var check_if_loggedin = setInterval(function () {\n      console.log("here");\n      if(localStorage.getItem("FB_LoggedIn_User_EmailID")){\n        document.getElementById(\'comment_section\').style.visibility = \'visible\';\n        document.getElementById(\'comment_as\').innerHTML = "Comment as " + localStorage.getItem("FB_LoggedIn_User_FirstName") + " "+ localStorage.getItem("FB_LoggedIn_User_LastName");\n        clearInterval(check_if_loggedin);\n      }else{\n'+"        document.getElementById('comment_section').style.visibility = 'hidden';\n      }\n    },1000);</script>"),a.put("views/searchmodal.html",'<div> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">Search Your Movies Here</h4> </div> <div class="modal-body"> <div class="input-group stylish-input-group"> <input type="text" class="form-control" ng-model="movieToSearch" placeholder="Type a movie name"> <span class="input-group-addon" ng-click="searchMovies(movieToSearch)"> <button> <span class="glyphicon glyphicon-search"></span> </button> </span> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="close()">Close</button> </div> <!-- modal-footer --> </div>'),a.put("views/searchresults.html","<p>This is the searchResults view.</p>"),a.put("views/signin.html",'<div class="modal-header" style="padding:35px 50px"> <button type="button" class="close" ng-click="cancel()">&times;</button> <h4><span class="glyphicon glyphicon-lock"></span> Login</h4> </div> <div class="modal-body" style="padding:40px 50px"> <form role="form"> <div class="form-group"> <label for="usrname"><span class="glyphicon glyphicon-envelope"></span> Email</label> <input type="text" class="form-control" id="usrname" ng-model="register.emailId" placeholder="Enter email" required> </div> <div class="form-group"> <label for="psw"><span class="glyphicon glyphicon-eye-open"></span> Password</label> <input type="password" class="form-control" id="psw" ng-model="register.password" placeholder="Enter password" required> </div> <div class="checkbox"> <label><input type="checkbox" value="" checked>Remember me</label> </div> <button type="submit" ng-click="signinUser()" class="btn btn-success btn-block">Login</button> </form> </div> <div class="modal-footer"> <button type="submit" class="btn btn-danger btn-default pull-left" ng-click="cancel()"><span class="glyphicon glyphicon-remove"></span> Cancel</button> <p>Not a member? <a class="login_register" ng-click="openSignUp(\'md\')">Register</a></p> <p>Forgot <a href="#">Password?</a></p> </div> <style>.modal-header, h4, .close {\n    background-color: #5cb85c;\n    color:white !important;\n    text-align: center;\n    font-size: 30px;\n  }\n  .modal-footer {\n    background-color: #f9f9f9;\n  }</style>'),a.put("views/signup.html",'<div class="modal-header" style="padding:35px 50px"> <button type="button" class="close" ng-click="cancel()">&times;</button> <h4><span class="glyphicon glyphicon-lock"></span> SignUp</h4> </div> <div class="modal-body" style="padding:40px 50px"> <form role="form"> <div class="form-group"> <label for="firstName"><span class="glyphicon glyphicon-user" required></span> First Name</label> <input type="text" class="form-control" id="firstName" ng-model="register.firstName" placeholder="First Name" required> </div> <div class="form-group"> <label for="lastName"><span class="glyphicon glyphicon-user" required></span> Last Name</label> <input type="text" class="form-control" id="lastName" ng-model="register.lastName" placeholder="Last Name" required> </div> <div class="form-group"> <label for="usrname"><span class="glyphicon glyphicon-envelope" required></span> Email</label> <input type="text" class="form-control" id="usrname" ng-model="register.emailId" placeholder="Email" required> </div> <div class="form-group"> <label for="psw"><span class="glyphicon glyphicon-eye-open"></span> Password</label> <input type="password" class="form-control" id="psw" ng-model="register.password" placeholder="Password"> </div> <div class="form-group"> <label for="confirm_psw"><span class="glyphicon glyphicon-eye-open"></span> Confirm Password</label> <input type="password" class="form-control" id="confirm_psw" ng-model="register.confirm_password" placeholder="Confirm password"> </div> <button type="submit" ng-click="registerUser()" class="btn btn-success btn-block">SignUp</button> </form> </div> <div class="modal-footer"> <button type="submit" class="btn btn-danger btn-default pull-left" ng-click="cancel()"><span class="glyphicon glyphicon-remove"></span> Cancel</button> <p>Already a member? <a class="login_register" ng-click="openSignIn(\'md\')">Login</a></p> </div> <style>.modal-header, h4, .close {\n    background-color: #5cb85c;\n    color:white !important;\n    text-align: center;\n    font-size: 30px;\n  }\n  .modal-footer {\n    background-color: #f9f9f9;\n  }</style>'),a.put("views/timedout-dialog.html",'<div class="modal-header"> <h3>You\'ve Timed Out!</h3> </div> <div class="modal-body"> <p> You were idle too long. You\'d be logged out. Please login or sign up to continue. </p> </div>'),a.put("views/trailermodal.html",'<div ng-controller="MoviedetailsCtrl"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">Search Your Movies Here</h4> </div> <div class="modal-body"> <div class="input-group stylish-input-group"> <input type="text" class="form-control" ng-model="movieToSearch" placeholder="Type a movie name"> <span class="input-group-addon" ng-click="searchMovies(movieToSearch)"> <button> <span class="glyphicon glyphicon-search"></span> </button> </span> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="close()">Close</button> </div> <!-- modal-footer --> </div>'),a.put("views/warning-dialog.html",'<!--<div class="modal-header">--><!--<h3>You\'re Idle. Do Something!</h3>--><!--</div>--><!--<div idle-countdown="countdown" ng-init="countdown=5" class="modal-body">--><!--<progressbar max="5" value="5" animate="false" class="progress-striped active">--><!--You\'ll be logged out in {{countdown}} second(s).--><!--</progressbar>--><!--</div>--> <div class="modal-header"> <h3>You\'re Idle. Do Something!</h3> </div> <div class="modal-body" idle-countdown="countdown" ng-init="countdown=5"> <p>You\'ll be logged out in <span class="label label-warning">{{countdown}}</span> <span ng-pluralize="" count="countdown" when="{\'one\': \'second\', \'other\': \'seconds\' }"></span>.</p> <progress max="5" value="countdown" class="progress-bar progress-striped active" type="warning"></progress> </div>')}]);